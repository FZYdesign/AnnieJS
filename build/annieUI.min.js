var __extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},annieUI;!function(e){var t=annie.Sprite,a=annie.Shape,i=function(e){function i(i,n,r,o){void 0===o&&(o=!0);var s=e.call(this)||this;s.isVertical=!0,s.viewWidth=0,s.viewHeight=0,s.maxDistance=1040,s.distance=0,s.minDis=2,s.maskObj=null,s.view=null,s.lastValue=0,s.speed=0,s.addSpeed=0,s.isStop=!0,s.maxSpeed=100,s.fSpeed=20,s.paramXY="y",s.stopTimes=-1,s.isMouseDown=!1,s.autoScroll=!1;var p=s;return p._instanceType="annieUI.ScrollPage",p.isVertical=o,p.view=new t,p.maskObj=new a,p.maskObj.alpha=0,p.addChild(p.maskObj),p.addChild(p.view),p.view.mask=p.maskObj,p.setMask(i,n),p.maxDistance=r,p.addEventListener(annie.MouseEvent.MOUSE_DOWN,p.onMouseEvent.bind(p)),p.addEventListener(annie.MouseEvent.MOUSE_MOVE,p.onMouseEvent.bind(p)),p.addEventListener(annie.MouseEvent.MOUSE_UP,p.onMouseEvent.bind(p)),p.addEventListener(annie.MouseEvent.MOUSE_OUT,p.onMouseEvent.bind(p)),p.addEventListener(annie.Event.ENTER_FRAME,function(){var e=p.view;p.autoScroll||(p.isStop?p.stopTimes>=0&&(p.stopTimes++,p.stopTimes>=15&&(p.speed=0,(e[p.paramXY]>0||e[p.paramXY]<p.distance-p.maxDistance)&&(p.isStop=!1,p.stopTimes=-1))):Math.abs(p.speed)>0?(e[p.paramXY]+=p.speed,e[p.paramXY]>0||e[p.paramXY]<p.distance-p.maxDistance?p.speed+=p.addSpeed*p.fSpeed:p.speed+=p.addSpeed,p.speed*p.addSpeed>0&&(p.speed=0)):e[p.paramXY]>0||e[p.paramXY]<p.distance-p.maxDistance?p.addSpeed<0?(e[p.paramXY]+=.4*(0-e[p.paramXY]),Math.abs(e[p.paramXY])<.2&&(p.isStop=!0)):(e[p.paramXY]+=.4*(p.distance-p.maxDistance-e[p.paramXY]),Math.abs(p.distance-p.maxDistance-e[p.paramXY])<.2&&(p.isStop=!0)):p.isStop=!0)}),s}return __extends(i,e),i.prototype.changeDirection=function(e){void 0===e&&(e=!0);var t=this;t.isVertical=e,e?(t.distance=t.viewHeight,t.paramXY="y"):(t.distance=t.viewWidth,t.paramXY="x")},i.prototype.setMask=function(e,t){var a=this;a.maskObj.clear(),a.maskObj.beginFill("#000000"),a.maskObj.drawRect(0,0,e,t),a.viewWidth=e,a.viewHeight=t,a.maskObj.endFill(),a.isVertical?(a.distance=a.viewHeight,a.paramXY="y"):(a.distance=a.viewWidth,a.paramXY="x")},i.prototype.onMouseEvent=function(e){var t=this;if(!t.autoScroll){var a=t.view;if(t.distance<t.maxDistance)if(e.type==annie.MouseEvent.MOUSE_DOWN)t.isStop||(t.isStop=!0),t.isVertical?t.lastValue=e.localY:t.lastValue=e.localX,t.speed=0,t.isMouseDown=!0;else if(e.type==annie.MouseEvent.MOUSE_MOVE){if(!t.isMouseDown)return;var i=void 0;if(i=t.isVertical?e.localY:e.localX,t.speed=i-t.lastValue,t.speed>t.minDis?(t.addSpeed=-2,t.speed>t.maxSpeed&&(t.speed=t.maxSpeed)):t.speed<-t.minDis?(t.speed<-t.maxSpeed&&(t.speed=-t.maxSpeed),t.addSpeed=2):t.speed=0,0!=t.speed){var n=1;(a[t.paramXY]>0||a[t.paramXY]<t.distance-t.maxDistance)&&(n=.2),a[t.paramXY]+=(i-t.lastValue)*n}t.lastValue=i,t.stopTimes=0}else t.isMouseDown=!1,t.isStop=!1,t.stopTimes=-1}},i.prototype.scrollTo=function(e,t){void 0===t&&(t=0);var a=this;a.autoScroll=!0,a.isStop=!0,a.isMouseDown=!1;var i={};i.onComplete=function(){a.autoScroll=!1},i[a.paramXY]=e,annie.Tween.to(a.view,t,i)},i}(t);e.ScrollPage=i}(annieUI||(annieUI={}));var annieUI;!function(e){var t=annie.Sprite,a=function(e){function t(){var t=e.call(this)||this;t.maskType=0;var a=t;return a._instanceType="annieUI.FacePhoto",a.photo=new Image,a.bitmap=new annie.Bitmap,a.maskObj=new annie.Shape,a.photo.onload=function(e){a.bitmap.bitmapData=a.photo,a.maskObj.clear(),a.maskObj.beginFill("#000000");var t=a.radio/(a.photo.width<a.photo.height?a.photo.width:a.photo.height);a.bitmap.scaleX=a.bitmap.scaleY=t,a.bitmap.x=a.radio-a.photo.width*t>>1,a.bitmap.y=a.radio-a.photo.height*t>>1,0==a.maskType?a.maskObj.drawCircle(a.radio>>1,a.radio>>1,a.radio>>1):a.maskObj.drawRect(0,0,a.radio,a.radio),a.maskObj.endFill()},a.addChild(a.bitmap),a.bitmap.mask=a.maskObj,t}return __extends(t,e),t.prototype.init=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=0);var i=this;i.radio=t,i.photo.src!=e&&(i.photo.src=e),i.maskType!=a&&(i.maskType=a)},t}(t);e.FacePhoto=a}(annieUI||(annieUI={}));var annieUI;!function(e){var t=annie.Sprite,a=function(e){function t(t){var a=e.call(this)||this;a.listLen=0,a.slideSpeed=0,a.touchStartX=0,a.touchStartY=0,a.touchEndX=0,a.movingX=0,a.movingY=0,a.touchEndY=0,a.currentPageIndex=0,a.isMoving=!1,a.stageW=0,a.stageH=0,a.distance=0,a.fSpeed=10,a.isMouseDown=!1,a.canSlideNext=!0,a.canSlidePrev=!0,a.slideDirection="next",a.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)};var i=a;if(!i.isArray(t.pageList))throw"pageList参数数据格式不对！pageList应为页面对象列表数组";if(!i.isFunction(t.callback))throw"callback参数数据格式不对！callback应为函数";return i.pageList=t.pageList,i.onMoveStart=t.onMoveStart,i.callback=t.callback,i.isVertical=!t.isVertical||t.isVertical,i.canSlidePrev=!t.canSlidePrev||t.canSlidePrev,i.canSlideNext=!t.canSlideNext||t.canSlideNext,i.slideSpeed=t.slideSpeed?t.slideSpeed:.4,i.addEventListener(annie.Event.ADD_TO_STAGE,i.onAddToStage.bind(i)),a}return __extends(t,e),t.prototype.isFunction=function(e){return"function"==typeof e},t.prototype.onAddToStage=function(e){var t=this;t.stageW=t.stage.desWidth,t.stageH=t.stage.desHeight,t.listLen=t.pageList.length,t.view=new annie.Sprite;for(var a=0;a<t.listLen;a++)t.pageList[a].pageId=a,t.pageList[a].canSlidePrev=!0,t.pageList[a].canSlideNext=!0,t.isVertical?t.pageList[a].y=a*t.stageH:t.pageList[a].x=a*t.stageW,t.view.addChild(t.pageList[a]);t.isMoving&&(t.view.mouseEnable=!1,t.view.mouseChildren=!1),t.addEventListener(annie.MouseEvent.MOUSE_DOWN,t.onMouseEventHandler.bind(t)),t.addEventListener(annie.MouseEvent.MOUSE_MOVE,t.onMouseEventHandler.bind(t)),t.addEventListener(annie.MouseEvent.MOUSE_UP,t.onMouseEventHandler.bind(t)),t.addChild(t.view)},t.prototype.onMouseEventHandler=function(e){var t=this;if(!t.isMoving)if(e.type==annie.MouseEvent.MOUSE_DOWN)t.touchStartX=t.touchEndX=e.localX,t.touchStartY=t.touchEndY=e.localY,t.movingX=t.movingY=0,t.isMouseDown=!0;else if(e.type==annie.MouseEvent.MOUSE_MOVE){if(!t.isMouseDown)return;var a=e.localX-t.touchEndX,i=e.localY-t.touchEndY;0!=t.movingX&&0!=t.movingY&&(t.movingX>0&&a<0||t.movingX<0&&a>0||t.movingY>0&&i<0||t.movingY<0&&i>0)&&(t.isMouseDown=!1),t.touchEndX=e.localX,t.touchEndY=e.localY,t.movingX=a,t.movingY=i,t.isVertical?(0==t.currentPageIndex&&t.touchStartY<t.touchEndY&&(t.view.y+=Math.abs(t.touchStartY-t.touchEndY)/t.stageH*t.fSpeed*.6),t.currentPageIndex==t.listLen-1&&t.touchStartY>t.touchEndY&&(t.view.y-=Math.abs(t.touchStartY-t.touchEndY)/t.stageH*t.fSpeed*.6)):(0==t.currentPageIndex&&t.touchStartX<t.touchEndX&&(t.view.x+=Math.abs(t.touchStartX-t.touchEndX)/t.stageW*t.fSpeed*.6),t.currentPageIndex==t.listLen-1&&t.touchStartX>t.touchEndX&&(t.view.x-=Math.abs(t.touchStartX-t.touchEndX)/t.stageW*t.fSpeed*.6))}else if(e.type==annie.MouseEvent.MOUSE_UP){if(t.isMoving||!t.isMouseDown)return;if(t.isMouseDown=!1,t.distance=t.getDistance(t.touchStartX,t.touchStartY,t.touchEndX,t.touchEndY),t.distance>50)if(t.isVertical?t.slideDirection=t.touchStartY>t.touchEndY?"next":"prev":t.slideDirection=t.touchStartX>t.touchEndX?"next":"prev","next"==t.slideDirection)if(t.dispatchEvent(new annie.Event("onSlideNextEvent")),t.currentPageIndex<t.listLen-1){if(!t.canSlideNext||!t.pageList[t.currentPageIndex].canSlideNext)return;t.currentPageIndex++,t.slideToIndex(t.currentPageIndex)}else 1==t.isVertical?annie.Tween.to(t.view,.2,{y:-t.stageH*(t.listLen-1),ease:annie.Tween.backOut}):annie.Tween.to(t.view,.2,{x:-t.stageW*(t.listLen-1),ease:annie.Tween.backOut});else if(t.dispatchEvent(new annie.Event("onSlidePrevEvent")),t.currentPageIndex>0){if(!t.canSlidePrev||!t.pageList[t.currentPageIndex].canSlidePrev)return;t.currentPageIndex--,t.slideToIndex(t.currentPageIndex)}else 1==t.isVertical?annie.Tween.to(t.view,.2,{y:0,ease:annie.Tween.backOut}):annie.Tween.to(t.view,.2,{x:0,ease:annie.Tween.backOut})}},t.prototype.slideToIndex=function(e){var t=this;t.isMoving||(t.isVertical?(annie.Tween.to(t.view,t.slideSpeed,{y:-e*t.stageH,onComplete:function(){t.isFunction(t.callback)&&t.callback(e),t.view.mouseEnable=!0,t.view.mouseChildren=!0,t.isMoving=!1}}),t.isMoving=!0):(annie.Tween.to(t.view,t.slideSpeed,{x:-e*t.stageW,onComplete:function(){t.isFunction(t.callback)&&t.callback(e),t.view.mouseEnable=!0,t.view.mouseChildren=!0,t.isMoving=!1}}),t.isMoving=!0),t.currentPageIndex=e,t.isFunction(t.onMoveStart)&&t.onMoveStart(e))},t.prototype.addPageList=function(e){var t=this;if(!t.isArray(e))throw"list应为页面对象列表数组";for(var a=e.length,i=0;i<a;i++)e[i].pageId=t.listLen,e[i].canSlidePrev=!0,e[i].canSlideNext=!0,t.isVertical?e[i].y=t.listLen*t.stageH:e[i].x=t.listLen*t.stageW,t.pageList.push(e[i]),t.listLen=t.pageList.length,t.view.addChildAt(e[i],t.listLen)},t.prototype.getDistance=function(e,t,a,i){var e=e,t=t,a=a,i=i,n=a-e,r=i-t,o=Math.pow(n*n+r*r,.5);return o},t}(t);e.SlidePage=a}(annieUI||(annieUI={}));var annieUI;!function(e){var t=annie.Sprite,a=annie.Shape,i=annie.Event,n=annie.MouseEvent,r=annie.Point,o=function(e){function o(){var i=e.call(this)||this;return i.totalPage=0,i.currPage=0,i.state="stop",i.timerArg0=0,i.timerArg1=0,i.px=0,i.py=0,i.rPage0=new t,i.rPage1=new t,i.pageMC=new t,i.leftPage=null,i.rightPage=null,i.rMask0=new a,i.rMask1=new a,i.shadow0=new a,i.shadow1=new a,i.sMask0=new a,i.sMask1=new a,i.pages=[],i.stageMP=new r,i.canFlip=!0,i._instanceType="annieUI.FlipBook",i}return __extends(o,e),o.prototype.init=function(e,t,a,o){var s=this;s.getPageCallback=o,s.bW=e,s.bH=t,s.totalPage=a,s.currPage=s.toPage=0,s.crossGap=Math.sqrt(s.bW*s.bW+s.bH*s.bH),s.p1=new r(0,0),s.p2=new r(0,s.bH),s.p3=new r(s.bW+s.bW,0),s.p4=new r(s.bW+s.bW,s.bH),s.limitP1=new r(s.bW,0),s.limitP2=new r(s.bW,s.bH),s.toPosArr=[s.p3,s.p4,s.p1,s.p2],s.myPosArr=[s.p1,s.p2,s.p3,s.p4],s.addChild(s.pageMC),s.addChild(s.rPage0),s.addChild(s.shadow0),s.addChild(s.rPage1),s.addChild(s.shadow1),s.setShadowMask(s.shadow0,s.sMask0,1.5*s.bW,3*s.bH),s.setShadowMask(s.shadow1,s.sMask1,1.5*s.bW,3*s.bH),s.shadow0.visible=!1,s.shadow1.visible=!1,s.rPage1.mask=s.rMask1,s.rPage0.mask=s.rMask0,s.setPage(s.currPage),s.stage.addEventListener(n.MOUSE_DOWN,s.onMouseDown.bind(s)),s.stage.addEventListener(n.MOUSE_UP,s.onMouseUp.bind(s)),s.stage.addEventListener(n.MOUSE_MOVE,s.onMouseMove.bind(s)),s.addEventListener(i.ENTER_FRAME,s.onEnterFrame.bind(s))},o.prototype.drawPage=function(e,t){var a,i,n=this;1==e?(t=n.checkLimit(t,n.limitP1,n.bW),t=n.checkLimit(t,n.limitP2,n.crossGap),i=n.getBookArr(t,n.p1,n.p2),a=i[1],n.getLayerArr(t,a,n.p1,n.p2,n.limitP1,n.limitP2),n.getShadow(n.shadow0,n.sMask0,n.p1,t,[n.p1,n.p3,n.p4,n.p2],.5),n.getShadow(n.shadow1,n.sMask1,n.p1,t,n.layer1Arr,.45),n.rPage1.rotation=n.angle(t,a)+90,n.rPage1.x=i[3].x,n.rPage1.y=i[3].y,n.rPage0.x=n.p1.x,n.rPage0.y=n.p1.y):2==e?(t=n.checkLimit(t,n.limitP2,n.bW),t=n.checkLimit(t,n.limitP1,n.crossGap),i=n.getBookArr(t,n.p2,n.p1),a=i[1],n.getLayerArr(t,a,n.p2,n.p1,n.limitP2,n.limitP1),n.getShadow(n.shadow0,n.sMask0,n.p2,t,[n.p1,n.p3,n.p4,n.p2],.5),n.getShadow(n.shadow1,n.sMask1,n.p2,t,n.layer1Arr,.45),n.rPage1.rotation=n.angle(t,a)-90,n.rPage1.x=i[2].x,n.rPage1.y=i[2].y,n.rPage0.x=n.p1.x,n.rPage0.y=n.p1.y):3==e?(t=n.checkLimit(t,n.limitP1,n.bW),t=n.checkLimit(t,n.limitP2,n.crossGap),i=n.getBookArr(t,n.p3,n.p4),a=i[1],n.getLayerArr(t,a,n.p3,n.p4,n.limitP1,n.limitP2),n.getShadow(n.shadow0,n.sMask0,n.p3,t,[n.p1,n.p3,n.p4,n.p2],.5),n.getShadow(n.shadow1,n.sMask1,n.p3,t,n.layer1Arr,.4),n.rPage1.rotation=n.angle(t,a)+90,n.rPage1.x=t.x,n.rPage1.y=t.y,n.rPage0.x=n.limitP1.x,n.rPage0.y=n.limitP1.y):(t=n.checkLimit(t,n.limitP2,n.bW),t=n.checkLimit(t,n.limitP1,n.crossGap),i=n.getBookArr(t,n.p4,n.p3),a=i[1],n.getLayerArr(t,a,n.p4,n.p3,n.limitP2,n.limitP1),n.getShadow(n.shadow0,n.sMask0,n.p4,t,[n.p1,n.p3,n.p4,n.p2],.5),n.getShadow(n.shadow1,n.sMask1,n.p4,t,n.layer1Arr,.4),n.rPage1.rotation=n.angle(t,a)-90,n.rPage1.x=a.x,n.rPage1.y=a.y,n.rPage0.x=n.limitP1.x,n.rPage0.y=n.limitP1.y),n.getShape(n.rMask1,n.layer1Arr),n.getShape(n.rMask0,n.layer0Arr)},o.prototype.checkLimit=function(e,t,a){var i=this,n=Math.abs(i.pos(t,e)),o=i.angle(t,e);if(n>a){var s=a*Math.sin(o/180*Math.PI),p=a*Math.cos(o/180*Math.PI);e=new r(t.x-p,t.y-s)}return e},o.prototype.getPage=function(e){var t=this;return t.pages[e-1]||(t.pages[e-1]=t.getPageCallback(e)),t.pages[e-1]},o.prototype.getBookArr=function(e,t,a){var i=this,n=[],o=Math.abs(.5*i.pos(t,e)),s=i.angle(t,e),p=o/Math.cos(s/180*Math.PI),l=new r(t.x-p,t.y),c=i.angle(e,l)-i.angle(e,a),d=i.pos(e,a),g=d*Math.sin(c/180*Math.PI),h=d*Math.cos(c/180*Math.PI),u=new r(t.x+h,t.y+g),v=i.angle(l,e),P=i.bW*Math.sin(v/180*Math.PI),m=i.bW*Math.cos(v/180*Math.PI),M=new r(u.x+m,u.y+P),y=new r(e.x+m,e.y+P);return n.push(e),n.push(u),n.push(M),n.push(y),n},o.prototype.getLayerArr=function(e,t,a,i,n,o){var s=this,p=[],l=[],c=Math.abs(.5*s.pos(a,e)),d=s.angle(a,e),g=c/Math.sin(d/180*Math.PI),h=c/Math.cos(d/180*Math.PI),u=new r(a.x-h,a.y),v=new r(a.x,a.y-g),P=t,m=Math.abs(s.pos(e,i));if(m>s.bH){p.push(P);var M=Math.abs(.5*s.pos(P,i)),y=M/Math.cos(d/180*Math.PI);v=new r(i.x-y,i.y)}else l.push(i);p.push(v),p.push(u),p.push(e),s.layer1Arr=p,l.push(o),l.push(n),l.push(u),l.push(v),s.layer0Arr=l},o.prototype.getShape=function(e,t){var a=t.length;e.clear(),e.beginFill("#000"),e.moveTo(t[0].x,t[0].y);for(var i=1;i<a;i++)e.lineTo(t[i].x,t[i].y);e.endFill()},o.prototype.setShadowMask=function(e,t,a,i){e.beginLinearGradientFill(["rgba(0,0,0,0)","rgba(0,0,0,0.6)"],[0,1],[.5*-a,4,.5*a,4]),e.drawRect(.5*-a,.5*-i,.5*a,i),e.endFill(),e.beginLinearGradientFill(["rgba(0,0,0,0)","rgba(0,0,0,0.6)"],[1,0],[.5*-a,4,.5*a,4]),e.drawRect(0,.5*-i,.5*a,i),e.endFill(),e.mask=t},o.prototype.getShadow=function(e,t,a,i,n,r){var o,s,p=this;e.visible=!0,e.x=i.x+(a.x-i.x)*r,e.y=i.y+(a.y-i.y)*r,e.rotation=p.angle(a,i),o=.5*Math.abs(a.x-i.x)/p.bW,s=1-o*o,e.scaleX=o+.1,e.alpha=s+.1,p.getShape(t,n)},o.prototype.setPage=function(e){var t=this;e>0&&e<=t.totalPage&&(t.leftPage=t.getPage(e),t.leftPage.x=t.leftPage.y=0,t.pageMC.addChild(t.leftPage)),e+1>0&&e+1<t.totalPage&&(t.rightPage=t.getPage(e+1),t.rightPage.x=t.bW,t.rightPage.y=0,t.pageMC.addChild(t.rightPage))},o.prototype.onMouseDown=function(e){var t=this;if(t.canFlip&&"stop"==t.state){t.stageMP.x=e.clientX,t.stageMP.y=e.clientY;var a=t.globalToLocal(t.stageMP);t.stageMP=a,t.timerArg0=t.checkArea(a),t.timerArg0=t.timerArg0<0?-t.timerArg0:t.timerArg0,t.timerArg0>0&&(t.timerArg0<3&&t.currPage>0||t.timerArg0>2&&t.currPage<=t.totalPage-2)&&(t.state="start",t.flushPage(),t.dispatchEvent("onFlipStart"))}},o.prototype.onMouseUp=function(e){var t=this;if("start"==t.state){t.stageMP.x=e.clientX,t.stageMP.y=e.clientY;var a=t.globalToLocal(t.stageMP);t.timerArg1=t.checkArea(a),t.state="auto",t.stageMP=a}},o.prototype.onMouseMove=function(e){var t=this;if("start"==t.state){t.stageMP.x=e.clientX,t.stageMP.y=e.clientY;var a=t.globalToLocal(t.stageMP);t.stageMP=a}},o.prototype.checkArea=function(e){var t,a=this,i=0,n=a.bW+a.bW,r=0,o=a.bH,s=50;return e.x>i&&e.x<=.5*n?(t=e.y>r&&e.y<=.5*o?1:e.y>.5*o&&e.y<o?2:0,e.x<=i+s&&(t=e.y>r&&e.y<=r+s?-1:e.y>o-s&&e.y<o?-2:t),t):e.x>.5*n&&e.x<n?(t=e.y>r&&e.y<=.5*o?3:e.y>.5*o&&e.y<o?4:0,e.x>=n-s&&(t=e.y>r&&e.y<=r+s?-3:e.y>o-s&&e.y<o?-4:t),t):0},o.prototype.flipTo=function(e){var t,a=this;e=e%2==1?e-1:e,t=e-a.currPage,"stop"==a.state&&e>=0&&e<a.totalPage&&0!=t&&(a.timerArg0=t<0?1:3,a.timerArg1=-1,a.toPage=e>a.totalPage?a.totalPage:e,a.state="auto",a.flushPage())},o.prototype.flushPage=function(){var e,t,a=this,i=a.myPosArr[a.timerArg0-1],n=null;1==a.timerArg0||2==a.timerArg0?(a.toPage=a.toPage==a.currPage?a.currPage-2:a.toPage,e=a.currPage,t=a.toPage+1,this.pageMC.removeChild(this.leftPage),a.currPage-2>0&&(n=a.getPage(a.currPage-2),n.x=0,this.leftPage=n,this.pageMC.addChild(n))):3!=a.timerArg0&&4!=a.timerArg0||(a.toPage=a.toPage==a.currPage?a.currPage+2:a.toPage,e=a.currPage+1,t=a.toPage,this.pageMC.removeChild(this.rightPage),a.currPage+3<this.totalPage&&(n=a.getPage(a.currPage+3),n.x=this.bW,this.rightPage=n,this.pageMC.addChild(n))),a.px=i.x,a.py=i.y,e>0&&e<=a.totalPage&&(n=a.getPage(e),n.x=0,n.y=0,a.rPage0.addChild(n)),t>0&&t<=a.totalPage&&(n=a.getPage(t),n.x=0,n.y=0,a.rPage1.addChild(n))},o.prototype.onEnterFrame=function(e){var t,a,i,n,o,s,p=this,l=p.toPosArr[p.timerArg0-1],c=p.myPosArr[p.timerArg0-1];if("start"==p.state){s=.4;var d=p.stageMP;p.px+=(d.x-p.px)*s>>0,p.py+=(d.y-p.py)*s>>0;var g=new r(p.px,p.py);p.drawPage(p.timerArg0,g)}else"auto"==p.state&&(Math.abs(l.x-p.px)>1.5*p.bW&&p.timerArg1>0?(t=c.x,a=c.y,i=0):(t=l.x,a=l.y,i=1),n=t-p.px>>0,o=a-p.py>>0,p.timerArg1<0?(s=.3,p.py=p.arc(p.bW,n,l.y)):(s=.4,p.py=o*s+p.py),p.px=n*s+p.px,p.drawPage(p.timerArg0,new r(p.px,p.py)),0==n&&0==o&&(p.rPage0.removeAllChildren(),p.rPage1.removeAllChildren(),p.shadow0.visible=!1,p.shadow1.visible=!1,p.toPage=0==i?p.currPage:p.toPage,p.currPage=p.toPage,p.pageMC.removeAllChildren(),p.setPage(p.currPage),p.state="stop",p.dispatchEvent("onFlipStop")))},o.prototype.arc=function(e,t,a){var i=2*e,n=e*e+i*i,r=Math.abs(t)-e;return a-(Math.sqrt(n-r*r)-i)},o.prototype.angle=function(e,t){var a=e.x-t.x,i=e.y-t.y,n=180*Math.atan2(i,a)/Math.PI;return n<0?n+360:n},o.prototype.pos=function(e,t){var a=e.x-t.x,i=e.y-t.y,n=Math.sqrt(a*a+i*i);return e.x>t.x?n:-n},o}(t);e.FlipBook=o}(annieUI||(annieUI={}));var annieUI;!function(e){var t=annie.Sprite,a=function(e){function t(t){var a=e.call(this)||this;return a.isTurnning=!1,a}return __extends(t,e),t.prototype.isFunction=function(e){return"function"==typeof e},t.prototype.turnTo=function(e,t,a){var i=this,n=0;if(!e)throw new Error("turnObj转动对象不能为空");if(!i.isFunction(a))throw new Error("callback参数数据格式不对！callback应为函数");i.isTurnning||(n=e.rotation,i.isTurnning=!0,annie.Tween.to(e,2,{rotation:180+n,ease:annie.Tween.quarticIn,onComplete:function(){annie.Tween.to(e,3,{rotation:3600,onComplete:function(){annie.Tween.to(e,4,{rotation:4320+t+n,ease:annie.Tween.quarticOut,onComplete:function(){e.rotation=t+n,i.isTurnning=!1,i.isFunction(a)&&a()}})}})}}))},t}(t);e.BigTurnTable=a}(annieUI||(annieUI={}));